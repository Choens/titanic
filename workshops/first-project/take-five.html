---
layout: presentation
title: "Take Five"
---

<section>
    <h2>Take Five</h2>
    <div class="container">
        <div class="left">
            <ul>
                <li>Duration: ~30 Minutes</li>
            </ul>
        </div>
        <div class="right">
            <div class="center" style="text-align:center;">
                <img src="{{site.baseurl}}/public/img/titanic.jpg" width="90%" alt="Photo of the Titanic">
            </div>
        </div>
    </div>
</section>

<section>
    <h2>Learning Objectives</h2>
    <ul>
        <li>What is it?</li>
        <li>How to download?</li>
        <li>How to open?</li>
        <li>
            Structure:
            <ul>
                <li>Data Management</li>
                <li>Data Analysis</li>
            </ul>
        </li>
    </ul>
</section>

<section>
    <h2>What is it?</h2>
    <div class="left">
        <ul>
            <li>
                <a href="http://nylottery.ny.gov/wps/portal/Home/Lottery/Home/Daily+Games/TAKE+5/Take+5+-+Drawings+and+Prizes" target="_blank">Take Five:</a> A
                nightly game from the New York State Lottery.
            </li>
            <li>
                Nightly, five numbers are chosen "at random".
            </li>
            <li>
                Each is between 1 and 39.
            </li>
            <li>
                The data for all winning numbers, starting in 1992, are
                available on-line at the <a href="https://data.ny.gov/Government-Finance/Lottery-Take-5-Winning-Numbers/dg63-4siq/data" target="_blank">New York State Open Data site</a>.
            </li>
        </ul>
    </div>
    <div class="right">
        <img src="{{site.baseurl}}/public/img/take-five.gif" width="60%" alt="NYS Lotto Take Five logo">
    </div>
</section>

<section>
    <h2>Objectives</h2>
    <ul>
        <li>Download the data from Open Data.</li>
        <li>
            Use the Chi Squared test to see if the distribution of
            winning numbers is evenly distributed.
        </li>
        <li>
            With over 36,000 winning numbers chosen since 1992, we
            have very high power.
        </li>
        <li>
            <a href="https://github.com/Choens/take-five/archive/master.zip" download>Project Code</a>
        </li>
        <li>
            Download to your local computer & unzip on Desktop.
        </li>
    </ul>
</section>

<section>
    <h2>New Project</h2>
    <div class="container">
        <div class="left">
            <p> Let's make a new project!</p>
            <ul>
                <li>
                    File -> New Project
                </li>
                <li>
                    Three options
                    <ul>
                        <li>New Directory</li>
                        <li>Existing Directory</li>
                        <li>Version Control</li>
                    </ul>
                </li>                
                <li>
                    Select the second option.
                </li>
                <li>
                    Select the folder you just created on your desktop.
                </li>
                <li style="color:red">
                    Let us know now if you don't get this to work.
                </li>
            </ul>
        </div>
        <div class="right">
            <img src="{{site.baseurl}}/public/img/rstudio-new-project-1-b.png" alt="RStudio: New Project" width="100%">
        </div>
    </div>
</section>

<section>
    <h2>Documentation</h2>
    <ul>
        <li>I keep saying R is an ecosystem.</li>
        <li>This is a good example.</li>
        <li>
            Open the README.md file with RStudio.<br />
            <span style="color:red"><small>Remember, you can open files in the bottom right pane.</small></span>
        </li>
        <li>See how that Markdown renders to this: <a href="https://github.com/Choens/take-five/blob/master/README.md" target="_blank">LINK!</a></li>
        <li>Proficient R users are (almost) universally polyglots.</li>
        <li>We use lots of languages and tools.</li>
        <li>The learning curve _is_ steep. But it _is_ worth it.</li>
    </ul>
</section>

<section>
    <h2>Working Directory</h2>
    <ul>
        <li>
            Because RStudio sets the current working directory to the
            root folder of the project, we can use relative urls in
            our code.
        </li>
        <li>I'll show you what that means in just a minute.</li>
    </ul>
</section>

<section>
    <h2>App Tokens</h2>
    <ul>
        <li>New York State Open Data runs on a platform called Socrata.</li>
        <li>To download data, you need a APP TOKEN.</li>
        <li>
            To get one, you must go: <a href="https://data.ny.gov/login"> here</a>.
        </li>
        <li>You will need an account. Sorry.</li>
        <li>Let's walk through this together.</li>
    </ul>
</section>

<section>
    <h2>Research Question</h2>
    <p style="color:red">Are the winning Take Five numbers selected randomly?</p>
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>
    <p style="color:red">Team up with a neighbor (or two). Can you run this code?</p>
    <ul>
        <li>You don't have to understand all of it.</li>
        <li>READMEs are there to help!</li>
        <li>
            You WILL need your APP TOKEN.<br />
            Code will not run without it.
        </li>
        <li><a href="https://github.com/Choens/take-five" target="_blank">Download Code Here!</a></li>
        <li>Can you answer our research question from the last slide?</li>
    </ul>
</section>

<section>
    <h2>Where did you start?</h2>
    <br />
    <h2>Did you create take_five.Rda?</h2>
    <br />
    <h2>Did you answer Research Question?</h2>
    <br />
    <h2>We will walk through this thing together.</h2>
</section>

<section>
    <h2>Where should we start?</h2>
    <br />
    <h2>Why would we want to separate data management?</h2>
</section>


<section>
    <h2>Start: data-raw/take_five.R</h2>

    
</section>
<section>
    <h2>APP TOKEN</h2>
    <p style="color:red">Insert YOUR APP TOKEN into the code.</p>
    <pre><code class="r">
## GET DATA ====================================================================
## To learn more about using th Socrata API with this data set:
## https://dev.socrata.com/foundry/data.ny.gov/hh4x-xmbw
take_five <- read.socrata("https://data.ny.gov/resource/hh4x-xmbw.json?$$app_token=YOUR_APP_TOKEN")
    </code></pre>
</section>

<section>
    <h2>Data Munging</h2>
    <p style="color:red">Can anyone explain this part of take_five.R?</p>
    <pre><code class="r">
## Transforms " " separated values into a single column, called winning_numbers:
take_five <-
    take_five %>%
    transform(winning_numbers=strsplit(winning_numbers, split=" ")) %>%
    unnest(winning_numbers) %>%
    select(draw_date, winning_numbers=winning_numbers, bonus) %>%
    distinct()
    </code></pre>
</section>

<section>
    <h2>Any other questions about data-raw/take_five.R?</h2>
    <br />
    <h2>No? Then open explore.R and run it.</h2>
