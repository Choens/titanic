---
layout: presentation
title: Data Types
---

<section>
    <h2>Data Types</h2>
    <div class="container">
        <div class="left">
            <ul>
                <li>Code: <a href="{{site.baseurl}}/workshops/titanic-introduction/data-types.R">data-types.R</a></li>
                <li>Run code, learn more</li>
                <li>Duration: ~45 Minutes</li>
                <li>Followed By: 5 Minute Break</li>
            </ul>
        </div>
        <div class="right">
            <div class="center" style="text-align:center;">
                <img src="{{site.baseurl}}/public/img/titanic.jpg" width="90%" alt="Photo of the Titanic">
            </div>
        </div>
    </div>
</section>

<section>
    <h2>Learning Objectives</h2>
    <div class="container">
        <div class="left">
            <ul>
                <li>Assignment</li>
                <li>Data Types</li>
                <li>Boats</li>
            </ul>
        </div>
        <div class="right">
            <img src="{{site.baseurl}}/public/img/titanic-ad.jpg">
            <p>Titanic Ad For Journey From New York To Europe</p>
        </div>
</section>

<section>
    <h2>Assignment Operator</h2>
    <ul>
        <li>Multiple assignment operators</li>
        <li>History, convention, and some old-school ideas</li>
    </ul>
    <pre><code class="r">
## These are equivalent.
a <- 1
a =  1

## In the beginning <- was the only assignment operator.
## Most R programmers continue to use it as a convention
    </code></pre>
</section>

<section>
    <h2>Why Be Conventional?</h2>
    <div class="container">
        <div class="left">
            <ul>
                <li>All languages have conventions</li>
                <li>Deviating can be OK</li>
                <li>You should have a good reason to do so</li>
                <li><span style="color:green;">KNOW</span> the conventions, so you can read demo code, etc</li>
                <li>We will use R conventions today, unless otherwise noted</li>
            </ul>
        </div>
        <div class="right">
            <img src="{{site.baseurl}}/public/img/john-jacob-astor-1909.jpg" alt="Photo of John Jacob Astor" width="50%">
            <p>John Jacob Astor in 1909. Richest man to die aboard the Titanic</p>
        </div>
</section>

<section>
    <h2>Assignment Conventions</h2>
    <ul>
        <li>Both <code class="r"><-</code> and <code class="r">=</code> assign variables in the local environment</li>
        <li>If you see someone using <code class="r"><--</code> <span style="color:red;">be careful!</span></li>
        <li>Especially if you do not understand concepts such as lexical scoping, global environment, etc</li>
    </ul>
</section>

<section>
    <h2>Assignment Quirks</h2>
    <ul>
        <li>R is a quirky language</li>
        <li>Assignment in a function must use <code class="r">=</code></li>
    </ul>

    <pre><code class="r">
## These are NOT equivalent.

## This is correct.
a <- foo(x = 1, y = 2)

## This will _NOT_ work.
a <- foo(x <- 1, y <- 2)

    </code></pre>
</section>

<section>
    <h2>Capitalization Matters</h2>
    <ul>
        <li>Capitalization does not matter in SQL</li>
        <li>It does matter in R (and most other languages)</li>
    </ul>

    <pre><code class="r">
## Using our object, "a" from previous slide.

## This works.
head(a)

## This will _NOT_ work.
head(A)
    </code></pre>
</section>

<section>
    <h2>Data Types</h2>
    <p><em>We are only covering a subset of available data types today</em></p>
    <div class="container">
        <div class="left">
            <h5>Atomic Data Types</h5>
            <ul>
                <li>Numeric</li>
                <li>Integer (briefly)</li>
                <li>Character</li>
                <li>Boolean</li>
            </ul>
        </div>
        <div class="right">
            <h5>Additional</h5>
            <ul>
                <li>Dates</li>
            </ul>
        </div>
    </div>
</section>

<section>
    <h2>Numeric</h2>
    <div class="container">
        <div class="left">
            <h5>R:</h5>
            <ul>
                <li>Default format for all numbers</li>
            </ul>
        </div>
        <div class="right">
            <h5>Analogues:</h5>
            <ul>
                <li>SQL: <code class="r">FLOAT</code></li>
                <li>SAS: <code class="r">NUM</code></li>
            </ul>
        </div>
    </div>
</section>
<section>
    <h2>Numeric</h2>
    <pre><code class="r">
## Use the assignment operator (<-) to assign a value
## to a variable.

## The passenger capacity of the Titanic.
passenger_capacity <- 2435

## The crew capacity of the Titanic.
crew_capacity <- 892
    </code></pre>
    
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>
    <ul>
        <li>Can you calculate the total capacity of the Titanic?</li>
        <li>What percentage of the total capacity were the staff?</li>
    </ul>
    
    <pre><code class="fragment">
total_capacity <- passenger_capacity + crew_capacity

percent_crew = 100* crew_capacity / total_capacity

percent_crew
    </code></pre>
    <pre><code class="fragment">[1] 26.81094</code></pre>    
</section>

<section>
    <h2>Is Numeric?</h2>
    <ul>
        <li>Is a variable numeric?</li>
        <li>is.numeric() returns a Boolean</li>
        <li><span style="color:green;">Note:</span> You are using R functions!</li>
    </ul>

    <div class="container">
        <div class="left">
            <pre><code class="r">is.numeric(total_capacity)</code></pre>
            <p class="returns">
                Returns:
                <pre><code class="fragment">[1] TRUE</code></pre>
            </p>
        </div>
        <div class="right">
            <pre><code class="r">is.numeric(percent_crew)</code></pre>
            <p class="returns">
                Returns:
                <pre><code class="fragment">[1] TRUE</code></pre>
            </p>
    
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>
    <p>Compare the results. Does this make sense?</p>
    <div class="container">
        <div class="left">
            <pre><code class="r">
total_capacity

typeof(total_capacity)
    
is.double(total_capacity)

is.integer(total_capacity)
            </code></pre>
        </div>
        <div class="right">
            <pre><code class="r">
percent_crew

typeof(percent_crew)
    
is.double(percent_crew)

is.integer(percent_crew)
            </code></pre>
        </div>
    </div>
    <p>(The answers are on the next slide!)</p>
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>
    <div class="container">
        <div class="left">
            <pre><code class="r">
> total_capacity
[1] 3327

> typeof(total_capacity)
[1] "double"
    
> is.double(total_capacity)
[1] TRUE

> is.integer(total_capacity)
[1] FALSE

## Integers must be declared.
            </code></pre>
            <pre>
        </div>
        <div class="right">
            <pre><code class="r">
> percent_crew
[1] 26.81094

> typeof(percent_crew)
[1] "double"
    
> is.double(percent_crew)
[1] TRUE

> is.integer(percent_crew)
[1] FALSE

## OK, that makes sense.
            </code></pre>
        </div>
    </div>
</section>

<section>
    <h2>Integers v Numerics</h2>
    <div class="left">
        <ul>
            <li>In R, the integer is a sub-type of numeric</li>
            <li>R will ONLY use this data type if you <span style="color:red;">EXPLICITLY</span> tell it to</li>
            <li>And if you don't understand them, they can behave oddly</li>
        </ul>
    </div>
    <div class="right">
        <h4>Integers</h4>
        <ul>
            <li>SQL: <code class="r">INT</code></li>
            <li>SAS: No direct analogue</li>
        </ul>
    </div>
</section>
    
</section>

<section>
    <h2>Integers Get Floored</h2>
    <p>This is the same behavior as the SAS <code class="r">INT</code> command</p>
    <pre><code class="r">
## What does this code return?
oops <- as.integer(percent_crew)

oops
    </code></pre>
    <pre><code class="fragment">
[1] 26

## There are FEW reasons to declare an Integer.
    </code></pre>
</section>

<section>
    <h2>Numerical Details</h2>
    <ul>
        <li>You can do math with numerics</li>
        <li>Follows the usual order of operations</li>
        <li>R is over-kill if all you need is a calculator</li>
        <li>That said . . . I have used it that way</li>
    </ul>
</section>

<section>
    <h2>Floating Point "Errors"</h2>

    <p>How can both statements be correct?</p>

    <div class="container">
        <div class="left">
            <pre><code>
(3 - 2.9)
            </code></pre>

            <pre><code class="fragment">
[1] 0.1
            </code></pre>
        </div>
        <div class="right">
            <pre><code>
(3 - 2.9) == 0.1
            </code></pre>

            <pre><code class="fragment">
[1] FALSE
            </code></pre>            
        </div>
    </div>
    <p>See next slide for GORY details.</p>
</section>

<section>
    <h2>Floating Point "Errors"</h2>
    <ul>
        <li>
            As a matter of convention, children are taught a Base
            10 (denary) number system
        </li>
        <li>
            Digital computers (must) use a Base 2 (binary) system
        </li>
        <li>
            In Base 2, numbers such as 0.1 are internally held as a
            floating-point, introducing rounding error
        </li>
        <li>
            See <a href="http://www.burns-stat.com/documents/tutorials/impatient-r/more-r-key-objects/more-r-numbers/" target="_blank">Burns Statistics</a>
            if you'd like to read more
        </li>
    </ul>
    <pre><code>
print(3 - 2.9, digits=20)
[1] 0.10000000000000008882
    </code></pre>
</section>

<section>
    <h2>Characters</h2>
    <ul>
        <li>SQL: <code class="r">char()</code>, <code class="r">varchar()</code></li>
        <li>SAS: <code class="r">CHAR</code></li>
        <li>In R - characters can be of any arbitrary length <br /><smaller>(until you run out of memory)</smaller></li>
        <li>Quotes: <code class="r">'foo'</code> or <code class="r">"foo"</code></li>
        <li>Double quotes are the convention, mostly</li>
        <li>Assignment works the same way as numerics(<code class="r"><-</code>)</li>
    </ul>
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>

    <pre><code class="r">
## Let's make some character vars!
title <- "Captain"
name  <- "Smith"

## And do something . . . cool . . .  with them.
paste(title, name, sep=" ")
    </code></pre>
    <pre><code class="fragment">
[1] "Captain Smith"
    </code></pre>    
</section>

<section>
    <h2>Booleans</h2>
    <div class="left">
        <h5>In R:</h5>
        <ul>
            <li><code class="r">TRUE</code></li>
            <li><code class="r">FALSE</code></li>
            <li>Assignment works the way you would expect</li>
        </ul>
    </div>
    <div class="right">
        <ul>
            <li>SQL: Either <code class="r">BOOL</code> or <code class="r">INT</code> (There may or may not be an analogue)</li>
            <li>SAS: 1 = Yes, 0 = No. <br /><smaller>No direct analogue in SAS</smaller></li>
        </ul>
    </div>
</section>

<section>
    <h2>Booleans</h2>
    <pre><code class="r">
survived <- TRUE

## OR

survived <- FALSE

## Nothing Surprising Here.
    </code></pre>
</section>

<section>
    <h2>Comparison Operators</h2>
    <h5>In R:</h5>
    <div class="left">
        <ul>
            <li>Equals: <code class="r">==</code> (Cannot use <code class="r">=</code>)</li>
            <li>Less Than: <code class="r"><</code>, <code class="r"><=</code></li>
            <li>Greater Than:<code class="r">></code>, <code class="r">>=</code></li>
            <li>Not Equal: !=</li>
        </ul>
        <p>Returns: <code class="r">TRUE</code>, <code class="r">FALSE</code> OR <code class="r">NA</code></p>
    </div>
    <div class="right">
        <h5>In SAS:</h5>
        <table>
            <tr>
                <td>Symbol</td>
                <td>Mnemonic</td>
            </tr>
            <tr>
                <td><code class="r"><</code></td>
                <td><code class="r">Lt</code></td>
            </tr>
            <tr>
                <td><code class="r"><=</code></td>
                <td><code class="r">Le</code></td>
            </tr>
            <tr>
                <td><code class="r">></code></td>
                <td><code class="r">Gt</code></td>
            </tr>
            <tr>
                <td><code class="r">>=</code></td>
                <td><code class="r">Ge</code></td>
            </tr>
            <tr>
                <td><code class="r">=</code></td>
                <td><code class="r">Eq</code></td>
            </tr>
            <tr>
                <td><code class="r">~=</code></td>
                <td><code class="r">Ne</code></td>
            </tr>
        </table>
    </div>
</section>

<section>
    <h2>Comparisons</h2>
    <pre><code class="r">
# Were there more passengers than crew?
# Hint: Yes, but let's prove it
> passenger_capacity > crew_capacity
[1] TRUE

# Were there exactly 1,000 passengers?
# Hint: No. Of course not.
> passenger_capacity == 1000
[1] FALSE

## You can assign the results to a variable
answer <- passenger_capacity < 1000

## Doing so returns nothing, unless there is an error.
    </code></pre>
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>
    <pre><code class="r">
## Captain Edward Smith was 62 years old when he died.
## Was he older when he died than you are today?
answer <- 62 > ?

## Additional Questions
## Is 'answer' a Numeric?
## Is 'answer' a Boolean?

    </code></pre>
</section>

<section>
    <h2>Dates</h2>
    <ul>
        <li><b>Fact of Life:</b> Dates universally suck</li>
        <li>R is no different</li>
        <li>Not needed today, just demonstrative</li>
        <li>Like Integers, must be explicitly declared</li>
        <li>The command <code class="r">as.Date()</code>, is funky</li>
        <li>Why the capital <code class="r">D</code>? Dunno</li>
    </ul>
    
</section>

<section>
    <h2>Dates</h2>
    <pre><code class="r">
## POSIX Compatible dates:
## You can write it as a mm/dd/yyyy, but . . .
## then you have to tell R how to read the date.
capt_smith_dob <- as.Date("1850-01-27")

## I won't make you practice these today.
    </code></pre>
</section>

<section>
    <h2>Data Types</h2>
    <ul>
        <li>There are other data types in R</li>
        <li>Developers create new ones all the time</li>
        <li>But for the sake of simplicity . . .</li>
        <li>That's all we need for today</li>
    </ul>
</section>

<section>
    <h2> REPL Gotcha!</h2>
    <ul>
        <li>Each line in R's REPL normally starts with <code>></code></li>
        <li>If it starts with a <code>+</code>, you haven't finished your statement</li>
        <li> The <code>+</code> is R's way to tell you it is waiting for you to finish</li>
        <li>Usually happens because you didn't close your parens</li>
        <li>(So close them . . . </li>
    </ul>
    <pre><code class="r">
round(9.9
+ 
    </code></pre>
</section>

<section>
    <h2>5 Minute Break!</h2>
    <img src="{{site.baseurl}}/public/img/titanic-cobh-harbour-1912.jpg" alt="Titanic in Cobh Harbour, County Cork Ireland">
    <p>Titanic in Cobh Harbour, County Cork Ireland</p>
</section>
