---
layout: presentation
title: Vectors
---

<section>
    <h2>Vectors</h2>
    <div class="container">
        <div class="left">
            <ul>
                <!-- <li>Code: <a href="{{site.baseurl}}/workshops/introduction/vectors.R"vectors.R">vectors.R</a></li> -->
                <li>Run code, learn more</li>
                <li>Duration: ~45 Minutes</li>
                <li>Followed by: <i>A Break!</i></li>
            </ul>
        </div>
        <div class="right">
            <div class="center" style="text-align:center;">
                <img src="{{site.baseurl}}/public/img/titanic.jpg" width="90%" alt="Photo of the Titanic">
            </div>
        </div>
    </div>
</section>

<section>
    <h2>Learning Objectives</h2>
    <ul>
        <li>What Is A Vector?</li>
        <li>How To Make One</li>
        <li>How To Delete One</li>
        <li>Vector Indexing (How To Subset)</li>
        <li>Work With Two Vectors</li>
        <li>Apply Functions To A Vector</li>
    </ul>
</section>

<section>
    <h2>What is a vector?</h2>
    <ul>
        <li>Congrats, you have already worked with vectors! 
            <ul><li>(We forgot to tell you)</li></ul>
        </li>
        <li>Understanding vectors is CRITICAL to becoming a useR</li>
    </ul>
    
    <pre><code class="r">
## This is a vector, length == 1.
captain <- "John Smith"

## This is a vector, length == 2.
captain <- c("John", "Smith")

## This is a vector too, length == 5.
age <- c(22, 38, 26, 35, 35)

## What does c stand for?
?c
    </code></pre>
</section>

<section>
    <h2>Combine</h2>
    <ul>
        <li>Use the function <code class="r">c()</code> to <em>combine</em> things</li>
        <li>Works for numerics, characters, booleans, dates, etc.</li>
        <li>All arguments are coerced to a common type</li>
        <li>Each vector is an object <ul><li>(Everything is an object in R)</li></ul></li>
    </ul>
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>
    <pre><code class="r">
## You can copy/paste this from the slide.
## These will be used again, don't delete.
age <- c(22,38,26,35,35,NA,54,2,27,14)
gender <- c("male","female","female","female","male",
            "male","male","male","female","female")

## Check that you have them with this code:
length(age)
length(gender)
    </code></pre>
    <p>The answer to both <code class="r">length()</code> commands should be 10</p>
</section>

<section>
    <h2>STOP!</h2>
    <img src="{{site.baseurl}}/public/img/titanic-iceberg.jpg" width="75%">
    <p>If you didn't succeed with the last slide, <span style="color:red;">SAY SOMETHING!</span></p>
</section>

<section>
    <h2>Visualize A Vector</h2>
    <p>A vector is like a column in Excel</p>
    <small>
        <table style="border-collapse:collapse;
                      border:1px solid black;">
            <tr align="center" style="background:#CCCCCC;"><th style="border: 1px solid black;"> </th><th style="border: 1px solid black;">A</th><th>B</th><th style="border: 1px solid black;">C</th></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">1</td><td style="border: 1px solid black;">age</td><td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">2</td><td style="border: 1px solid black;">22</td> <td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">3</td><td style="border: 1px solid black;">38</td> <td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">4</td><td style="border: 1px solid black;">26</td> <td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">5</td><td style="border: 1px solid black;">35</td> <td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">6</td><td style="border: 1px solid black;">35</td> <td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">7</td><td style="border: 1px solid black;">NA</td> <td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">8</td><td style="border: 1px solid black;">54</td> <td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">9</td><td style="border: 1px solid black;">2</td>  <td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">10</td><td style="border: 1px solid black;">27</td><td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
            <tr><td align="right" style="background:#CCCCCC; border: 1px solid black;">11</td><td style="border: 1px solid black;">14</td><td style="border: 1px solid black;"></td><td style="border: 1px solid black;"></td></tr>
        </table>
    </small>

    <p><b>Note:</b> NA isn't a string, it is NA</p>
</section>
<section>
    <h2>Apply A Function</h2>
    <ul>
        <li>Some functions act on each element in the vector</li>
        <li>Some functions act on the vector in total</li>
    </ul>

    <div class="container">
        <div class="left">
            <pre><code class="r">
## Per Item
age + 1
            </code></pre>
            <pre><code class="fragment r">
[1] 23 39 27 36 36 NA 55  3 28 15
            </code></pre>
        </div>
        <div class="right">
            <pre><code class="r">
## In Total
table(gender)
            </code></pre>
            <pre><code class="fragment r">
gender
female   male 
     5      5 
            </code></pre>
        </div>
    </div>
</section>

<section>
    <h2>NA</h2>
    <ul>
        <li>NA is the bane of our existence</li>
        <li><code class="r">na.rm = TRUE</code> is our friend</li>
        <li>Example: <code class="r">mean()</code>
    </ul>
    <br />
    <div class="container">
        <div class="left">
            <h5>Bad</h5>
            <pre><code class="r">
## This will not work.
mean(age)
            </code></pre>
            <pre><code class="fragment r">
[1] NA

## Yeah, that's not right.
            </code></pre>
        </div>
        <div class="right">
            <h5>Good</h5>
            <pre><code class="r">
## This works just fine.
mean(age, na.rm = TRUE)
            </code></pre>
            <pre><code class="fragment r">
[1] 28.11111

## That's more like it.
            </code></pre>
        </div>
    </div>
</section>

<section>
    <h2>HELP!</h2>
    <p>(You might need a tugboat)</p>
    <div class="container">
        <div class="left">
            <ul>
                <li><code class="r">?foo</code></li>
                <li>Code Completion</li>
                <li>RStudio help window</li>
                <li><a href="http://stackoverflow.com/questions/tagged/r" target="_blank">Stack Overflow</a></li>
                <li>Google: Pre-pend search query with "R"</li>
                <li><a href="https://www.statmethods.net/index.html" target="_blank">Quick-R (Stat Methods)</a></li>
                <li><a href="https://www.rstudio.com/resources/cheatsheets/", target="_blank">RStudio Cheatsheets</a></li>
            </ul>
        </div>
        <div class="right">
            <img src="{{site.baseurl}}/public/img/rms_titanic_2.jpg" width="100%">
            <p>Note the lack of smoke coming from stack #4</p>
        </div>
    </div>
</section>

<section>
    <h2>Some Functions</h2>
    <div class="container">
        <div class="left">
            <h5>Mathematical</h5>
            <ul>
                <li><code class="r">mean()</code>: Average</li>
                <li><code class="r">sd()</code>: Standard Deviation</li>
                <li><code class="r">var()</code>: Variance</li>
                <li><code class="r">min()</code>: Smallest</li>
                <li><code class="r">max()</code>: Biggest</li>
            </ul>
        </div>
        <div class="right">
            <h5>Useful</h5>
            <ul>
                <li><code class="r">length()</code>: # of items</li>
                <li><code class="r">table()</code>: # distinct values</li>
                <li><code class="r">summary()</code>: <i>You tell me</i></li>
                <li><code class="r">plot()</code>: <i>You tell me</i></li>
                <li><code class="r">hist()</code>: <i>You tell me</i></li>
                <li><code class="r">barplot()</code>: <i>You tell me</i></li>
            </ul>
        </div>
    </div>
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>
    <pre><code class="r">
## Take a few minutes and spend some
## time using a few of these functions.
## Remember ? to get help with how to use the function.
    </code></pre>
</section>

<section>
    <h2>Index[1]</h2>
    <ul>
        <li>AKA Subsetting / Filtering</li>
        <li><span style="color:red;">Let's do this together</span></li>
    </ul>
    <pre><code class="r">
## Use the square bracket operator to select which
## entries in a vector to return.
## Remember: There are 10 entries in age and gender.

## But maybe we only want one of them.
gender[10]

## Or maybe we only want some of them.
age[3:5]
    </code></pre>
</section>

<section>
    <h2>Index[2]</h2>
    <p>
        <span style="color:red;">STOP ME IF THIS DOESN'T MAKE SENSE!</span>
    </p>

    <pre><code class="r">
## Perhaps we only want to return the males.
gender[gender == "male"]

## More usefully - this works across vectors.
age[gender == "male"]
    </code></pre>
</section>

<section>
    <h2>Visualize 2 Vectors</h2>
    <p>In this case, these vectors are in the same order . . . </p>
    <div class="container">
        <div class="left">
            <small>
                <table>
                    <tr><th>age</th></tr>
                    <tr><td>22</td></tr>
                    <tr><td>38</td></tr>
                    <tr><td>26</td></tr>
                    <tr><td>35</td></tr>
                    <tr><td>35</td></tr>
                    <tr><td>NA</td></tr>
                    <tr><td>54</td></tr>
                    <tr><td>2</td></tr>
                    <tr><td>27</td></tr>
                    <tr><td>14</td></tr>
                </table>
            </small>
        </div>
        <div class="right">
            <small>
                <table>
                    <tr><th>gender</th></tr>
                    <tr><td>male</td></tr>
                    <tr><td>female</td></tr>
                    <tr><td>female</td></tr>
                    <tr><td>female</td></tr>
                    <tr><td>male</td></tr>
                    <tr><td>male</td></tr>
                    <tr><td>male</td></tr>
                    <tr><td>male</td></tr>
                    <tr><td>female</td></tr>
                    <tr><td>female</td></tr>
                </table>
            </small>
        </div>
    </div>
</section>

<section>
    <h2>Index[3]</h2>
    <pre><code class="r">
## Make a new variable
age_of_men <- age[gender == "male"]

## Or use it in a function
mean( age[gender=="female"] )
    </code></pre>
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>

    <pre><code class="r">
## Using the following Boolean Object
survived <- c(FALSE,TRUE,TRUE,TRUE,FALSE,
              FALSE,FALSE,FALSE,TRUE,TRUE)

## How many men survived the sinking of the Titanic?
## How many women?
    </code></pre>
    <p>Answer on the next slide!</p>
</section>

<section>
    <h2>
        <img src="{{site.baseurl}}/public/img/captain-smith.jpg" width="20%" alt="Photo of Captain Smith" style="vertical-align:middle;"> Your Turn!
    </h2>

    <pre><code class="r">
## How many men survived the sinking of the Titanic?
survived_men <- survived[gender=="male"]
table(survived_men)

## Extra credit for anyone who did it this way.
sum(survived_men)


## Try this to better understand.
survived_men == 1
    </code></pre>
</section>

<section>
    <h1>Actual Passengers</h1>
    <div class="left">
        <small>
            <table>
                <tr><th>Name</th><th>Age</th><th>Gender</th></tr>
                <tr><td>Mr. Owen Braund</td><td>22</td><td>male</td></tr>
                <tr><td>Mrs. Florence Briggs Thayer</td><td>38</td><td>female</td></tr>
                <tr><td>Miss. Laina Heikkinen</td><td>26</td><td>female</td></tr>
                <tr><td>Mrs. Lily May Peel</td><td>35</td><td>female</td></tr>
                <tr><td>Mr. William Allen</td><td>35</td><td>male</td></tr>
                <tr><td>Mr. James Moran</td><td>NA</td><td>male</td></tr>
                <tr><td>Mr. Timothy McCarthy</td><td>54</td><td>male</td></tr>
                <tr><td>Master. Gosta Palsson</td><td>2</td><td>male</td></tr>
                <tr><td>Mrs. Elisabeth Vilhelmina Berg</td><td>27</td><td>female</td></tr>
                <tr><td>Mrs. Adele Achem</td><td>14</td><td>female</td></tr>
            </table>
        </small>
    </div>
    <div class="right">
    <img src="{{site.baseurl}}/public/img/grand-staircase.jpg" alt="Photo of the Grand Staircase" width="100%">
    </div>
</section>

<section>
    <h2>Statistical Testing</h2>
    <ul>
        <li>
            Statistical tests are functions in R:
            <ul>
                <li>Student's T-Test: <code>t.test()</code></li>
                <li>Chi Square Test: <code>chisq.test()</code></li>
            </ul>
        </li>
        <li>You know everything you need to know to run</li>
    </ul>
</section>

<section>
    <h2>Statistical Testing</h2>
    <pre><code class="r">
t.test(age[gender=="male"], age[gender=="female"])
    </code></pre>
    <pre><code class="fragment r">
Welch Two Sample t-test

data:  age[gender == "male"] and age[gender == "female"]
t = 0.021341, df = 3.8789, p-value = 0.984
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -32.67896  33.17896
sample estimates:
mean of x mean of y 
    28.25     28.00 
    </code></pre>
</section>

<section>
    <h2>One More Data Type</h2>
    <ul>
        <li>Factor</li>
        <li>Superficially, similar to a string character</li>
        <li>More efficient with memory usage</li>
        <li>Defines a variable explicitly as a categorical</li>
    </ul>
</section>

<section>
    <h2>Make A Factor</h2>
    <div class="left">
        <pre><code class="r">
gender
[1] "male"   "female" "female" "female" "male"   "male"   "male"   "male"  
 [9] "female" "female"
        </code></pre>
    </div>
    <div class="left">
        <pre><code class="r">
as.factor(gender)
 [1] male   female female female male   male   male   male   female female
Levels: female male
        </code></pre>
    </div>
</section>

<section>
    <h2>Take A Break!</h2>
    <img src="{{site.baseurl}}/public/img/titanic-cobh-harbour-1912.jpg" alt="Titanic in Cobh Harbour, County Cork Ireland">
    <p>Titanic in Cobh Harbour, County Cork Ireland</p>
</section>
